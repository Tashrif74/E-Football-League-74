<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>eFootball League | Login</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&family=Oswald:wght@500;700&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;font-family:'Inter',sans-serif;}
body{margin:0;height:100vh;background:#020617;display:flex;justify-content:center;align-items:center;color:#f8fafc;position:relative;}
body::before{content:"";position:absolute;width:500px;height:500px;background:radial-gradient(circle, rgba(34,197,94,0.25), transparent 70%);filter:blur(80px);z-index:0;}
.container{position:relative;width:380px;padding:40px;border-radius:16px;background:#0f172a;border:1px solid #1e293b;box-shadow:0 0 25px rgba(34,197,94,0.15);text-align:center;z-index:2;animation:fade 0.5s ease;}
@keyframes fade{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
h1{margin-bottom:25px;font-family:'Oswald',sans-serif;font-size:28px;letter-spacing:1px;color:#22c55e;}
.tabs{display:flex;margin-bottom:20px;border-radius:10px;overflow:hidden;border:1px solid #1e293b;}
.tabs button{flex:1;padding:12px;border:none;background:#0b1220;color:#94a3b8;cursor:pointer;transition:0.3s;font-weight:600;}
.tabs button:hover{background:#132035;color:white;}
.tabs .active{background:#22c55e;color:#020617;font-weight:700;}
.form input{width:100%;padding:12px;margin:10px 0;border:1px solid #1e293b;border-radius:8px;background:#0b1220;color:white;transition:0.3s;}
.form input:focus{outline:none;border-color:#22c55e;box-shadow:0 0 8px rgba(34,197,94,0.4);}
.form button{width:100%;padding:12px;background:#22c55e;border:none;border-radius:8px;font-weight:700;cursor:pointer;transition:0.3s;color:#020617;}
.form button:hover{background:#16a34a;box-shadow:0 0 12px rgba(34,197,94,0.5);}
.msg{margin-top:12px;min-height:18px;font-size:14px;}
.hidden{display:none;}
</style>
</head>
<body>
<div class="container">
  <h1>⚽ eFootball PRO League</h1>
  <div class="tabs">
    <button id="loginTab" class="active">Login</button>
    <button id="registerTab">Register</button>
  </div>

  <form id="loginForm" class="form">
    <input type="text" id="loginUsername" placeholder="Username" required>
    <input type="password" id="loginPassword" placeholder="Password" required>
    <button type="submit">Login</button>
    <p id="loginMsg" class="msg"></p>
  </form>

  <form id="registerForm" class="form hidden">
    <input type="text" id="regUsername" placeholder="Username" required>
    <input type="text" id="regTeam" placeholder="Team Name (max 16 chars)" maxlength="16" required>
    <input type="text" id="regCadetName" placeholder="Cadet Name" required>
    <input type="number" id="regCadet" placeholder="Cadet Number (4 digits)" required>
    <input type="password" id="regPassword" placeholder="Password" required>
    <button type="submit">Register</button>
    <p id="registerMsg" class="msg"></p>
  </form>
</div>

<script>
// Default admin account
if (!localStorage.getItem("admin")) {
  localStorage.setItem("admin", JSON.stringify({
    username: "admin",
    password: "Hasantashrif@3174"
  }));
}

// Tabs
const loginTab = document.getElementById("loginTab");
const registerTab = document.getElementById("registerTab");
const loginForm = document.getElementById("loginForm");
const registerForm = document.getElementById("registerForm");
const loginMsg = document.getElementById("loginMsg");
const registerMsg = document.getElementById("registerMsg");

loginTab.onclick=()=>{ loginForm.classList.remove("hidden"); registerForm.classList.add("hidden"); loginTab.classList.add("active"); registerTab.classList.remove("active"); };
registerTab.onclick=()=>{ registerForm.classList.remove("hidden"); loginForm.classList.add("hidden"); registerTab.classList.add("active"); loginTab.classList.remove("active"); };

// Register
registerForm.onsubmit=(e)=>{
  e.preventDefault();
  const username=document.getElementById("regUsername").value.trim();
  const team=document.getElementById("regTeam").value.trim();
  const cadetName=document.getElementById("regCadetName").value.trim();
  const cadet=document.getElementById("regCadet").value.trim();
  const password=document.getElementById("regPassword").value.trim();
  if(username.toLowerCase()==="admin"){registerMsg.textContent="❌ Admin username reserved"; return;}
  if(localStorage.getItem(username)){registerMsg.textContent="❌ User exists"; return;}
  if(team.length>16){registerMsg.textContent="❌ Team max 16 chars"; return;}
  if(!/^\d{4}$/.test(cadet)){registerMsg.textContent="❌ Cadet number 4 digits"; return;}
  localStorage.setItem(username,JSON.stringify({username,team,cadetName,cadet,password}));
  registerMsg.textContent="✅ Registration successful. Login now."; registerForm.reset();
  setTimeout(()=>loginTab.click(),1000);
};

// Login
loginForm.onsubmit=(e)=>{
  e.preventDefault();
  const username=document.getElementById("loginUsername").value.trim();
  const password=document.getElementById("loginPassword").value.trim();
  const data=localStorage.getItem(username);
  if(!data){loginMsg.textContent="❌ User not found"; return;}
  const user=JSON.parse(data);
  if(user.password!==password){loginMsg.textContent="❌ Wrong password"; return;}
  loginMsg.textContent="✅ Login successful";
  setTimeout(()=>{ window.location.href=(username==="admin")?"admin.html":"user.html"; },800);
};
</script>
</body>
</html>
